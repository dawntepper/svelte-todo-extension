var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const l="undefined"!=typeof window;let i=l?()=>window.performance.now():()=>Date.now(),u=l?t=>requestAnimationFrame(t):t;const a=new Set;function d(t){a.forEach((e=>{e.c(t)||(a.delete(e),e.f())})),0!==a.size&&u(d)}function f(t,e){t.appendChild(e)}function h(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function p(t){const e=b("style");return function(t,e){f(t.head||t,e),e.sheet}(h(t),e),e.sheet}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function v(){return $(" ")}function y(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function k(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function j(t,e,n){t.classList[n?"add":"remove"](e)}const E=new Map;let C,A=0;function L(t,e,n,o,s,r,c,l=0){const i=16.666/o;let u="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*r(t);u+=100*t+`%{${c(o,1-o)}}\n`}const a=u+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${l}`,f=h(t),{stylesheet:g,rules:m}=E.get(f)||function(t,e){const n={stylesheet:p(e),rules:{}};return E.set(t,n),n}(f,t);m[d]||(m[d]=!0,g.insertRule(`@keyframes ${d} ${a}`,g.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${d} ${o}ms linear ${s}ms 1 both`,A+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),A-=s,A||u((()=>{A||(E.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&m(e)})),E.clear())})))}function M(t){C=t}function S(){if(!C)throw new Error("Function called outside component initialization");return C}const O=[],D=[];let P=[];const R=[],q=Promise.resolve();let z=!1;function F(t){P.push(t)}const T=new Set;let I,V=0;function B(){if(0!==V)return;const t=C;do{try{for(;V<O.length;){const t=O[V];V++,M(t),G(t.$$)}}catch(t){throw O.length=0,V=0,t}for(M(null),O.length=0,V=0;D.length;)D.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];T.has(e)||(T.add(e),e())}P.length=0}while(O.length);for(;R.length;)R.pop()();z=!1,T.clear(),M(t)}function G(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}function H(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}(`${e?"intro":"outro"}${n}`))}const J=new Set;let K;function Q(t,e){t&&t.i&&(J.delete(t),t.i(e))}function U(t,e,n,o){if(t&&t.o){if(J.has(t))return;J.add(t),K.c.push((()=>{J.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const W={duration:0};function X(n,o,c,l){const f={direction:"both"};let h=o(n,c,f),p=l?0:1,g=null,m=null,b=null;function $(){b&&N(n,b)}function v(t,e){const n=t.b-p;return e*=Math.abs(n),{a:p,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:r=0,duration:c=300,easing:l=e,tick:f=t,css:y}=h||W,_={start:i()+r,b:o};o||(_.group=K,K.r+=1),g||m?m=_:(y&&($(),b=L(n,p,o,c,r,l,y)),o&&f(0,1),g=v(_,c),F((()=>H(n,o,"start"))),function(t){let e;0===a.size&&u(d),new Promise((n=>{a.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(g=v(m,c),m=null,H(n,g.b,"start"),y&&($(),b=L(n,p,g.b,g.duration,0,l,h.css))),g)if(t>=g.end)f(p=g.b,1-p),H(n,g.b,"end"),m||(g.b?$():--g.group.r||s(g.group.c)),g=null;else if(t>=g.start){const e=t-g.start;p=g.a+g.d*l(e/g.duration),f(p,1-p)}return!(!g&&!m)})))}return{run(t){r(h)?(I||(I=Promise.resolve(),I.then((()=>{I=null}))),I).then((()=>{h=h(f),y(t)})):y(t)},end(){$(),g=m=null}}}function Y(t,e){U(t,1,1,(()=>{e.delete(t.key)}))}function Z(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),P=e}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(O.push(t),z||(z=!0,q.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,c,l,i,u,a,d,f=[-1]){const h=C;M(e);const p=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(h?h.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:c.target||h.$$.root};d&&d(p.root);let g=!1;if(p.ctx=l?l(e,c.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),g&&tt(e,t)),n})):[],p.update(),g=!0,s(p.before_update),p.fragment=!!i&&i(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();c.intro&&Q(e.$$.fragment),function(t,e,o,c){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,o),c||F((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):s(e),t.$$.on_mount=[]})),i.forEach(F)}(e,c.target,c.anchor,c.customElement),B()}M(h)}class nt{$destroy(){Z(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,{delay:n=0,duration:o=400,easing:s=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:s,css:t=>"opacity: "+t*r}}function st(t,e,n){const o=t.slice();return o[21]=e[n],o}function rt(t,e,n){const o=t.slice();return o[24]=e[n],o}function ct(t){let e,n,o,s=t[24]+"";return{c(){e=b("option"),n=$(s),e.__value=o=t[24],e.value=e.__value},m(t,o){g(t,e,o),f(e,n)},p(t,r){16&r&&s!==(s=t[24]+"")&&x(n,s),16&r&&o!==(o=t[24])&&(e.__value=o,e.value=e.__value)},d(t){t&&m(e)}}}function lt(t){let e,n,o=t[21].label+"";return{c(){e=b("span"),n=$(o),_(e,"class","label svelte-i1j0ig")},m(t,o){g(t,e,o),f(e,n)},p(t,e){1&e&&o!==(o=t[21].label+"")&&x(n,o)},d(t){t&&m(e)}}}function it(t,e){let n,o,r,c,l,i,u,a,d,h,p,w,k,E,C=e[21].text+"";function A(){return e[13](e[21])}let L=e[21].label&&lt(e);function N(){return e[14](e[21])}return{key:t,first:null,c(){n=b("div"),o=b("input"),c=v(),l=b("span"),i=$(C),u=v(),L&&L.c(),a=v(),d=b("button"),d.textContent="×",h=v(),_(o,"type","checkbox"),o.checked=r=e[21].completed,_(l,"class","svelte-i1j0ig"),j(l,"completed",e[21].completed),_(d,"class","delete-btn svelte-i1j0ig"),_(n,"class","task svelte-i1j0ig"),this.first=n},m(t,e){g(t,n,e),f(n,o),f(n,c),f(n,l),f(l,i),f(n,u),L&&L.m(n,null),f(n,a),f(n,d),f(n,h),w=!0,k||(E=[y(o,"change",A),y(d,"click",N)],k=!0)},p(t,s){e=t,(!w||1&s&&r!==(r=e[21].completed))&&(o.checked=r),(!w||1&s)&&C!==(C=e[21].text+"")&&x(i,C),(!w||1&s)&&j(l,"completed",e[21].completed),e[21].label?L?L.p(e,s):(L=lt(e),L.c(),L.m(n,a)):L&&(L.d(1),L=null)},i(t){w||(F((()=>{w&&(p||(p=X(n,ot,{duration:200},!0)),p.run(1))})),w=!0)},o(t){p||(p=X(n,ot,{duration:200},!1)),p.run(0),w=!1},d(t){t&&m(n),L&&L.d(),t&&p&&p.end(),k=!1,s(E)}}}function ut(t){let e,n,o,r,c,l,i,u,a,d,h,p,$,x,j,E,C,A,L,N,M,S,O,D,P,R=[],q=new Map,z=t[4],T=[];for(let e=0;e<z.length;e+=1)T[e]=ct(rt(t,z,e));let I=t[0];const V=t=>t[21].id;for(let e=0;e<I.length;e+=1){let n=st(t,I,e),o=V(n);q.set(o,R[e]=it(o,n))}return{c(){e=b("main"),n=b("h1"),n.textContent="Todo List Sidebar",o=v(),r=b("div"),c=b("input"),l=v(),i=b("select"),u=b("option"),u.textContent="No Label";for(let t=0;t<T.length;t+=1)T[t].c();a=v(),d=b("button"),d.textContent="Add",h=v(),p=b("div"),$=b("input"),x=v(),j=b("button"),j.textContent="Add Label",E=v(),C=b("div");for(let t=0;t<R.length;t+=1)R[t].c();A=v(),L=b("div"),N=b("textarea"),M=v(),S=b("button"),S.textContent="Create Tasks",_(n,"class","svelte-i1j0ig"),_(c,"type","text"),_(c,"placeholder","Add a new todo"),_(c,"class","svelte-i1j0ig"),u.__value="",u.value=u.__value,_(i,"class","svelte-i1j0ig"),void 0===t[3]&&F((()=>t[11].call(i))),_(d,"class","svelte-i1j0ig"),_(r,"class","input-group svelte-i1j0ig"),_($,"type","text"),_($,"placeholder","New label"),_($,"class","svelte-i1j0ig"),_(j,"class","svelte-i1j0ig"),_(p,"class","input-group svelte-i1j0ig"),_(C,"class","task-list svelte-i1j0ig"),_(N,"placeholder","Enter tasks (one per line)"),_(N,"class","svelte-i1j0ig"),_(S,"class","svelte-i1j0ig"),_(L,"class","input-group svelte-i1j0ig"),_(e,"class","svelte-i1j0ig")},m(s,m){g(s,e,m),f(e,n),f(e,o),f(e,r),f(r,c),w(c,t[1]),f(r,l),f(r,i),f(i,u);for(let t=0;t<T.length;t+=1)T[t]&&T[t].m(i,null);k(i,t[3],!0),f(r,a),f(r,d),f(e,h),f(e,p),f(p,$),w($,t[3]),f(p,x),f(p,j),f(e,E),f(e,C);for(let t=0;t<R.length;t+=1)R[t]&&R[t].m(C,null);f(e,A),f(e,L),f(L,N),w(N,t[2]),f(L,M),f(L,S),O=!0,D||(P=[y(c,"input",t[10]),y(i,"change",t[11]),y(d,"click",t[5]),y($,"input",t[12]),y(j,"click",t[9]),y(N,"input",t[15]),y(S,"click",t[8])],D=!0)},p(t,[e]){if(2&e&&c.value!==t[1]&&w(c,t[1]),16&e){let n;for(z=t[4],n=0;n<z.length;n+=1){const o=rt(t,z,n);T[n]?T[n].p(o,e):(T[n]=ct(o),T[n].c(),T[n].m(i,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=z.length}24&e&&k(i,t[3]),24&e&&$.value!==t[3]&&w($,t[3]),193&e&&(I=t[0],K={r:0,c:[],p:K},R=function(t,e,n,o,r,c,l,i,u,a,d,f){let h=t.length,p=c.length,g=h;const m={};for(;g--;)m[t[g].key]=g;const b=[],$=new Map,v=new Map,y=[];for(g=p;g--;){const t=f(r,c,g),s=n(t);let i=l.get(s);i?o&&y.push((()=>i.p(t,e))):(i=a(s,t),i.c()),$.set(s,b[g]=i),s in m&&v.set(s,Math.abs(g-m[s]))}const _=new Set,x=new Set;function w(t){Q(t,1),t.m(i,d),l.set(t.key,t),d=t.first,p--}for(;h&&p;){const e=b[p-1],n=t[h-1],o=e.key,s=n.key;e===n?(d=e.first,h--,p--):$.has(s)?!l.has(o)||_.has(o)?w(e):x.has(s)?h--:v.get(o)>v.get(s)?(x.add(o),w(e)):(_.add(s),h--):(u(n,l),h--)}for(;h--;){const e=t[h];$.has(e.key)||u(e,l)}for(;p;)w(b[p-1]);return s(y),b}(R,e,V,1,t,I,q,C,Y,it,null,st),K.r||s(K.c),K=K.p),4&e&&w(N,t[2])},i(t){if(!O){for(let t=0;t<I.length;t+=1)Q(R[t]);O=!0}},o(t){for(let t=0;t<R.length;t+=1)U(R[t]);O=!1},d(t){t&&m(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(T,t);for(let t=0;t<R.length;t+=1)R[t].d();D=!1,s(P)}}}function at(t){chrome.storage.sync.set({todos:t})}function dt(t,e,n){let o,s=[],r="",c="",l="",i=[],u=!1;var a;function d(t){at(s.map((e=>e.id===t?{...e,completed:!e.completed}:e)))}function f(t){at(s.filter((e=>e.id!==t)))}a=()=>{u=!0,chrome.storage.sync.get(["todos"],(t=>{u&&t.todos&&n(0,s=t.todos)})),chrome.storage.sync.get(["labels"],(t=>{u&&t.labels&&n(4,i=t.labels)})),o=function(){const t=(t,e)=>{"sync"===e&&(t.todos&&u&&n(0,s=t.todos.newValue),t.labels&&u&&n(4,i=t.labels.newValue))};return chrome.storage.onChanged.addListener(t),()=>chrome.storage.onChanged.removeListener(t)}()},S().$$.on_mount.push(a),function(t){S().$$.on_destroy.push(t)}((()=>{u=!1,o&&o()}));return[s,r,c,l,i,function(){if(r.trim()){at([...s,{id:Date.now(),text:r.trim(),completed:!1,label:l}]),n(1,r="")}},d,f,function(){const t=c.split(/\n|•|-/).map((t=>t.trim())).filter((t=>""!==t)).map((t=>({id:Date.now()+Math.random(),text:t,completed:!1,label:l})));at([...s,...t]),n(2,c="")},function(){if(l&&!i.includes(l)){!function(t){chrome.storage.sync.set({labels:t})}([...i,l])}},function(){r=this.value,n(1,r)},function(){l=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(3,l),n(4,i)},function(){l=this.value,n(3,l),n(4,i)},t=>d(t.id),t=>f(t.id),function(){c=this.value,n(2,c)}]}const ft=document.body,ht=new class extends nt{constructor(t){super(),et(this,t,dt,ut,c,{})}}({target:ft});return"undefined"!=typeof chrome&&chrome.action&&chrome.action.onClicked.addListener((t=>{t.id&&chrome.sidePanel.setOptions({tabId:t.id,path:"sidebar.html"}).catch((t=>{console.error("Failed to set side panel options:",t)}))})),ht}();
//# sourceMappingURL=bundle.js.map
